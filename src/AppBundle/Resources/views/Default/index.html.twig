{% extends '::base.html.twig' %}

{% block title %}Stanza del cittadino{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/ita-bootstrap.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/app/css/jasny-bootstrap.min.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/app/css/bootstrap-datepicker.min.css') }}"/>
{% endblock %}


{% block nav %}
    {{ include('@App/Default/nav/main.html.twig') }}
{% endblock %}

{% block header %}
    {{ include('@App/Default/header/header.html.twig') }}
{% endblock %}

{% block content_container %}
    {{ include('@App/Default/parts/breadcrumb.html.twig') }}

    <section id="main-content">
        <div class="container-fluid">
            {% block main_content %}{% endblock %}
        </div>
    </section>

    {{ include('@App/Default/parts/survey.html.twig') }}
{% endblock %}

{% block footer %}
    {{ include('@App/Default/footer/prefooter.html.twig') }}
    {{ include('@App/Default/footer/footer.html.twig') }}
    {{ include('@App/Default/footer/subfooter.html.twig') }}
{% endblock %}

{% block javascripts %}
    <!-- !Javascript - at the bottom for fast page loading -->
    <!-- Grab Google CDN's jQuery. fall back to local if necessary -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>!window.jQuery && document.write('<script src="{{ asset('bundles/app/css/js/jquery.min.js') }}"><\/script>')</script>
    <script src="{{ asset('js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/bootstrap-datepicker.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/jasny-bootstrap.min.js') }}"></script>
    <script>
        $(document).ready(function($) {

            var $wrap = $(window),
                    $header = $("#header"),
                    headerHeight = $header.outerHeight(),
                    headerTopHeight = $("#header-top").outerHeight(),
                    headerInsideHeight = $("#header-inside").outerHeight();

            $wrap.on('scroll', function(e) {
                if ($wrap.scrollTop() > headerTopHeight + headerInsideHeight
                        && $wrap.width() > 200
                ) {
                    $header.addClass("header-fixed");
                } else {
                    $header.removeClass("header-fixed");
                }
            });
        });
    </script>
{% endblock %}
