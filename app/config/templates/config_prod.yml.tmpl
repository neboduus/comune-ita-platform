{{ $tenant_tree := "___TENANT_TREE___" }}

imports:
    - { resource: ../parameters.yml }
    - { resource: ../common/security.yml }
    - { resource: ../common/monolog.yml }
    - { resource: ../services.yml }
    - { resource: ../bundles/ }
    - { resource: "@AppBundle/Resources/config/services.yml" }
    - { resource: ../config.yml }


{{ tree (printf "%s/config/content" $tenant_tree) | explode | toYAML }}

framework:
    router:
        resource: "%kernel.root_dir%/config/common/routing.yml"
        strict_requirements: true

twig:
    globals:
        endpoint_prefix: '%prefix%'

services:
    ocsdc.protocollo.handler: "@ocsdc.protocollo.handlers.{{ keyOrDefault (printf "%s/config/protocollo" $tenant_tree) "dummy" }}"

