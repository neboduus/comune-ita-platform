{% use 'CraueFormFlowBundle:FormFlow:stepList_blocks.html.twig' %}

{%- if flow.getStepLabels() is not empty -%}

    <ul class="progress-indicator craue_formflow_steplist">
        {% for stepLabel in flow.getStepLabels() %}
            <li{{ block('craue_flow_stepList_class') }}>
                <span class="bubble"></span>
                <div {% if flow.getStepLabels()|length > 10 %}style="margin-top: 50px;transform: rotate(304deg);"{% endif %}>
                {%- if flow.isStepDone(loop.index) -%}
                    <i class="fa fa-check"></i>
                {%- endif -%}
                {%- if craue_isStepLinkable(flow, loop.index) -%}
                    <a href="{{ path(app.request.attributes.get('_route'), app.request.query.all
                    | merge(app.request.attributes.get('_route_params'))
                    | craue_addDynamicStepNavigationParameters(flow, loop.index)) }}"  data-toggle="tab">
                        {{- block('craue_flow_stepLabel') -}}
                    </a>
                {%- else -%}
                    {{ block('craue_flow_stepLabel') }}
                {%- endif -%}
                </div>
            </li>
        {% endfor %}
    </ul>
{%- endif -%}
