#!/usr/bin/env php
<?php
use App\InstancesProvider;
use Symfony\Component\Console\Input\ArgvInput;

set_time_limit(0);
require dirname(__DIR__).'/vendor/autoload.php';

$input = new ArgvInput();
if (null !== $env = $input->getParameterOption(['--env', '-e'], 'prod', true)) {
  putenv('APP_ENV='.$_SERVER['APP_ENV'] = $_ENV['APP_ENV'] = $env);
}

$instanceProvider = InstancesProvider::factory();
foreach ($instanceProvider->getInstances() as $identifier => $instance){
  echo $identifier . PHP_EOL;
}

